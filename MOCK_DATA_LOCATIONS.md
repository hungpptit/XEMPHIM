# üóÇÔ∏è MOCK DATA LOCATIONS - H∆∞·ªõng d·∫´n thay th·∫ø khi c√≥ Backend

> **M·ª•c ƒë√≠ch**: T√†i li·ªáu n√†y li·ªát k√™ t·∫•t c·∫£ c√°c v·ªã tr√≠ mock data trong frontend ƒë·ªÉ d·ªÖ d√†ng thay th·∫ø b·∫±ng API calls th·ª±c khi c√≥ backend.

---

## üìã **T·ªïng quan Mock Data**

| Component | File | D√≤ng | M√¥ t·∫£ | API Endpoint c·∫ßn |
|-----------|------|------|-------|------------------|
| Home Page | `src/modules/Home/Home.js` | 12-67 | Danh s√°ch phim | `GET /api/movies` |
| Movie Detail | `src/modules/MovieDetail/MovieDetail.js` | 19-66 | Chi ti·∫øt phim + l·ªãch chi·∫øu | `GET /api/movies/{id}` |
| Seat Selection | `src/modules/SeatSelection/SeatSelection.js` | 18-39 | S∆° ƒë·ªì gh·∫ø | `GET /api/showtimes/{id}/seats` |
| Payment | `src/modules/Payment/Payment.js` | 23-47 | Ph∆∞∆°ng th·ª©c thanh to√°n | `GET /api/payment-methods` |
| My Tickets | `src/modules/MyTickets/MyTickets.js` | 13-16 | V√© ƒë√£ ƒë·∫∑t | `GET /api/users/{id}/bookings` |
| API Service | `src/services/api.js` | 110+ | Fallback mock data | N/A |

---

## üé¨ **1. HOME PAGE - Danh s√°ch phim**

### üìç **V·ªã tr√≠**: `src/modules/Home/Home.js`
**D√≤ng**: 12-67

```javascript
// ‚ùå MOCK DATA - C·∫¶N THAY TH·∫æ
const mockMovies = [
  {
    id: 1,
    title: "Spider-Man: No Way Home",
    description: "Peter Parker ph·∫£i ƒë·ªëi m·∫∑t...",
    poster: "https://images.unsplash.com/...",
    rating: 8.9,
    duration: 148,
    releaseYear: 2024,
    genre: "H√†nh ƒë·ªông",
    isAvailable: true
  },
  // ... 5 phim kh√°c
];
```

### üîÑ **C√°ch thay th·∫ø**:
```javascript
// ‚úÖ S·ª¨ D·ª§NG API
useEffect(() => {
  const fetchMovies = async () => {
    try {
      const response = await moviesAPI.getMovies();
      setMovies(response.data);
      setLoading(false);
    } catch (error) {
      console.error('Error fetching movies:', error);
      setLoading(false);
    }
  };
  
  fetchMovies();
}, []);
```

### üì° **API Endpoint c·∫ßn**:
- `GET /api/movies` - L·∫•y danh s√°ch t·∫•t c·∫£ phim
- `GET /api/movies?status=now_showing` - Phim ƒëang chi·∫øu
- `GET /api/movies?status=coming_soon` - Phim s·∫Øp chi·∫øu

---

## üéûÔ∏è **2. MOVIE DETAIL - Chi ti·∫øt phim**

### üìç **V·ªã tr√≠**: `src/modules/MovieDetail/MovieDetail.js`
**D√≤ng**: 19-34 (Chi ti·∫øt phim), 36-66 (L·ªãch chi·∫øu)

```javascript
// ‚ùå MOCK DATA - C·∫¶N THAY TH·∫æ
const mockMovie = {
  id: 1,
  title: "Spider-Man: No Way Home",
  description: "Peter Parker ph·∫£i ƒë·ªëi m·∫∑t...",
  poster: "https://images.unsplash.com/...",
  backdrop: "https://images.unsplash.com/...",
  rating: 8.9,
  duration: 148,
  releaseYear: 2024,
  genres: ["H√†nh ƒë·ªông", "Phi√™u l∆∞u", "Sci-Fi"],
  director: "Jon Watts",
  cast: ["Tom Holland", "Zendaya", "Benedict Cumberbatch"],
  trailerUrl: "https://www.youtube.com/embed/JfVOs4VSpmA",
  isAvailable: true
};

const mockShowtimes = [
  {
    date: "2024-10-08",
    dateLabel: "H√¥m nay",
    times: [
      { time: "09:00", cinema: "R·∫°p A", availableSeats: 45, totalSeats: 60 },
      // ... c√°c su·∫•t chi·∫øu kh√°c
    ]
  }
];
```

### üîÑ **C√°ch thay th·∫ø**:
```javascript
// ‚úÖ S·ª¨ D·ª§NG API
useEffect(() => {
  const fetchMovieData = async () => {
    try {
      const [movieResponse, showtimesResponse] = await Promise.all([
        moviesAPI.getMovieById(id),
        moviesAPI.getMovieShowtimes(id)
      ]);
      
      setMovie(movieResponse.data);
      setShowtimes(showtimesResponse.data);
      setLoading(false);
    } catch (error) {
      console.error('Error fetching movie data:', error);
      setLoading(false);
    }
  };
  
  fetchMovieData();
}, [id]);
```

### üì° **API Endpoints c·∫ßn**:
- `GET /api/movies/{id}` - Chi ti·∫øt phim
- `GET /api/movies/{id}/showtimes` - L·ªãch chi·∫øu theo phim
- `GET /api/movies/{id}/showtimes?date=YYYY-MM-DD` - L·ªãch chi·∫øu theo ng√†y

---

## ü™ë **3. SEAT SELECTION - S∆° ƒë·ªì gh·∫ø**

### üìç **V·ªã tr√≠**: `src/modules/SeatSelection/SeatSelection.js`
**D√≤ng**: 18-39

```javascript
// ‚ùå MOCK DATA - C·∫¶N THAY TH·∫æ
const generateSeatMap = () => {
  const rows = ['A', 'B', 'C', 'D', 'E', 'F', 'G', 'H'];
  const seatsPerRow = 12;
  const map = [];

  rows.forEach(row => {
    const rowSeats = [];
    for (let i = 1; i <= seatsPerRow; i++) {
      const isOccupied = Math.random() < 0.3; // Random occupied seats
      const isVip = ['F', 'G', 'H'].includes(row);
      
      rowSeats.push({
        id: `${row}${i}`,
        row: row,
        number: i,
        status: isOccupied ? 'occupied' : 'available',
        type: isVip ? 'vip' : 'regular',
        price: isVip ? 150000 : 100000
      });
    }
    map.push(rowSeats);
  });

  return map;
};
```

### üîÑ **C√°ch thay th·∫ø**:
```javascript
// ‚úÖ S·ª¨ D·ª§NG API
useEffect(() => {
  const fetchSeatMap = async () => {
    try {
      const response = await bookingAPI.getSeatMap(showtimeId);
      setSeatMap(response.data);
      setLoading(false);
    } catch (error) {
      console.error('Error fetching seat map:', error);
      setLoading(false);
    }
  };
  
  if (showtimeId) {
    fetchSeatMap();
  }
}, [showtimeId]);
```

### üì° **API Endpoints c·∫ßn**:
- `GET /api/showtimes/{id}/seats` - S∆° ƒë·ªì gh·∫ø theo su·∫•t chi·∫øu
- `POST /api/bookings/hold-seats` - Gi·ªØ gh·∫ø t·∫°m th·ªùi
- `DELETE /api/bookings/release-seats` - H·ªßy gi·ªØ gh·∫ø

---

## üí≥ **4. PAYMENT - Ph∆∞∆°ng th·ª©c thanh to√°n**

### üìç **V·ªã tr√≠**: `src/modules/Payment/Payment.js`
**D√≤ng**: 23-47

```javascript
// ‚ùå MOCK DATA - C·∫¶N THAY TH·∫æ
const paymentMethods = [
  {
    id: 'momo',
    name: 'V√≠ MoMo',
    desc: 'Thanh to√°n nhanh ch√≥ng v·ªõi v√≠ ƒëi·ªán t·ª≠ MoMo',
    icon: 'üì±',
    color: '#d82d8b'
  },
  {
    id: 'vnpay',
    name: 'VNPay',
    desc: 'Thanh to√°n qua c·ªïng VNPay an to√†n',
    icon: 'üí≥',
    color: '#1e88e5'
  },
  // ... c√°c ph∆∞∆°ng th·ª©c kh√°c
];
```

### üîÑ **C√°ch thay th·∫ø**:
```javascript
// ‚úÖ S·ª¨ D·ª§NG API
useEffect(() => {
  const fetchPaymentMethods = async () => {
    try {
      const response = await paymentAPI.getPaymentMethods();
      setPaymentMethods(response.data);
    } catch (error) {
      console.error('Error fetching payment methods:', error);
    }
  };
  
  fetchPaymentMethods();
}, []);
```

### üì° **API Endpoints c·∫ßn**:
- `GET /api/payment-methods` - Danh s√°ch ph∆∞∆°ng th·ª©c thanh to√°n
- `POST /api/payments` - T·∫°o thanh to√°n
- `GET /api/payments/{id}/verify` - X√°c minh thanh to√°n

---

## üéüÔ∏è **5. MY TICKETS - V√© ƒë√£ ƒë·∫∑t**

### üìç **V·ªã tr√≠**: `src/modules/MyTickets/MyTickets.js`
**D√≤ng**: 13-16

```javascript
// ‚ùå MOCK DATA - C·∫¶N THAY TH·∫æ
useEffect(() => {
  const loadTickets = () => {
    try {
      const savedBookings = .getItem('bookings');
      if (savedBookings) {
        const bookings = JSON.parse(savedBookings);
        setTickets(bookings);
      }
    } catch (error) {
      console.error('Error loading tickets:', error);
    } finally {
      setLoading(false);
    }
  };

  loadTickets();
}, []);
```

### üîÑ **C√°ch thay th·∫ø**:
```javascript
// ‚úÖ S·ª¨ D·ª§NG API
useEffect(() => {
  const fetchUserBookings = async () => {
    try {
      const userId = getCurrentUserId(); // Get from auth context
      const response = await bookingAPI.getUserBookings(userId);
      setTickets(response.data);
      setLoading(false);
    } catch (error) {
      console.error('Error fetching bookings:', error);
      setLoading(false);
    }
  };
  
  fetchUserBookings();
}, []);
```

### üì° **API Endpoints c·∫ßn**:
- `GET /api/users/{id}/bookings` - V√© c·ªßa user
- `DELETE /api/bookings/{id}` - H·ªßy v√©
- `GET /api/bookings/{id}` - Chi ti·∫øt booking

---

## üîß **6. API SERVICE - Fallback Mock Data**

### üìç **V·ªã tr√≠**: `src/services/api.js`
**D√≤ng**: 110+

```javascript
// ‚ùå MOCK DATA - C·∫¶N X√ìA KHI C√ì BACKEND
export const mockData = {
  movies: [
    // ... danh s√°ch phim
  ],
  showtimes: [
    // ... l·ªãch chi·∫øu
  ]
};

// ‚ùå HELPER FUNCTIONS - C·∫¶N X√ìA
export const apiWithFallback = {
  getMovies: async () => {
    try {
      return await moviesAPI.getMovies();
    } catch (error) {
      console.warn('API not available, using mock data');
      return { data: mockData.movies };
    }
  },
  // ... c√°c functions kh√°c
};
```

### üîÑ **C√°ch thay th·∫ø**:
```javascript
// ‚úÖ CH·ªà GI·ªÆ L·∫†I API TH·ª∞C
export const moviesAPI = {
  getMovies: (params = {}) => {
    return API.get('/movies', { params });
  },
  // ... c√°c API methods kh√°c
};

// X√ìA HO√ÄN TO√ÄN mockData v√† apiWithFallback
```

---

## üóÉÔ∏è **7. LOCAL STORAGE - D·ªØ li·ªáu l∆∞u tr·ªØ t·∫°m**

### üìç **C√°c v·ªã tr√≠ s·ª≠ d·ª•ng **:

1. **Payment Success**: `src/modules/Payment/Payment.js` - D√≤ng 117-127
2. **My Tickets Load**: `src/modules/MyTickets/MyTickets.js` - D√≤ng 13-22  
3. **Ticket Cancel**: `src/modules/MyTickets/MyTickets.js` - D√≤ng 55-62

```javascript
// ‚ùå THAY TH·∫æ  B·∫∞NG API
.setItem('bookings', JSON.stringify(updatedTickets));
const savedBookings = .getItem('bookings');
```

### üîÑ **C√°ch thay th·∫ø**:
```javascript
// ‚úÖ S·ª¨ D·ª§NG API THAY V√å 
// Thay v√¨ save v√†o , g·ªçi API
await bookingAPI.createBooking(bookingData);
await bookingAPI.cancelBooking(ticketId);
```

---

## üöÄ **CHECKLIST MIGRATION**

### ‚úÖ **C·∫ßn l√†m khi c√≥ Backend:**

1. **[ ] Setup API base URL** trong `.env`:
   ```
   REACT_APP_API_URL=http://localhost:8080/api
   ```

2. **[ ] Implement Authentication**:
   - Login/Logout endpoints
   - JWT token handling
   - Protected routes

3. **[ ] Replace Mock Data** theo th·ª© t·ª±:
   - [ ] Movies API (Home + MovieDetail)
   - [ ] Showtimes API (MovieDetail)
   - [ ] Seat Map API (SeatSelection)  
   - [ ] Payment API (Payment)
   - [ ] Booking API (MyTickets)

4. **[ ] Remove Mock Code**:
   - [ ] Delete `mockData` object
   - [ ] Delete `apiWithFallback` functions
   - [ ] Remove  usage
   - [ ] Clean up mock arrays

5. **[ ] Error Handling**:
   - [ ] Implement proper error boundaries
   - [ ] Add loading states
   - [ ] Handle network errors

6. **[ ] Testing**:
   - [ ] Test all API integrations
   - [ ] Test error scenarios
   - [ ] Test authentication flow

---

## üîó **API Schema Reference**

### **Movie Object**:
```typescript
interface Movie {
  id: number;
  title: string;
  description: string;
  poster: string;
  backdrop?: string;
  rating: number;
  duration: number; // minutes
  releaseYear: number;
  genres: string[];
  director?: string;
  cast?: string[];
  trailerUrl?: string;
  isAvailable: boolean;
}
```

### **Showtime Object**:
```typescript
interface Showtime {
  id: string;
  movieId: number;
  date: string; // YYYY-MM-DD
  time: string; // HH:MM
  cinema: string;
  totalSeats: number;
  availableSeats: number;
  price: number;
}
```

### **Seat Object**:
```typescript
interface Seat {
  id: string; // A1, B2, etc
  row: string;
  number: number;
  status: 'available' | 'occupied' | 'selected';
  type: 'regular' | 'vip';
  price: number;
}
```

### **Booking Object**:
```typescript
interface Booking {
  id: string;
  userId: number;
  movieId: number;
  showtimeId: string;
  selectedSeats: Seat[];
  totalPrice: number;
  customerInfo: CustomerInfo;
  paymentMethod: string;
  status: 'confirmed' | 'cancelled' | 'expired';
  bookingDate: string;
}
```

---

> **üí° L∆∞u √Ω**: Sau khi c√≥ backend, nh·ªõ test k·ªπ t·ª´ng API endpoint v√† x·ª≠ l√Ω c√°c tr∆∞·ªùng h·ª£p l·ªói nh∆∞ network timeout, server error, invalid data, etc.